# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. MessageActions - –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–ø—Å—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** `onForward is not defined`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
// –î–æ–±–∞–≤–ª–µ–Ω—ã onPin –∏ onForward –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—é
export const MessageActions: React.FC<MessageActionsProps> = ({
  message,
  isOwn,
  onReply,
  onEdit,
  onDelete,
  onReact,
  onPin,      // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ
  onForward   // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ
}) => {
```

---

### 2. PinnedMessages - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL
**–ü—Ä–æ–±–ª–µ–º–∞:** `/api/api/pins/chat/...` (–¥–≤–æ–π–Ω–æ–π /api/)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
// –ë—ã–ª–æ:
const { data } = await axios.get(`${API_URL}/api/pins/chat/${chatId}`)

// –°—Ç–∞–ª–æ:
const response = await fetch(`http://localhost:3001/api/pins/chat/${chatId}`)
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
- –ó–∞–º–µ–Ω–µ–Ω axios –Ω–∞ fetch (–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–æ–∫–µ–Ω: `localStorage.getItem('accessToken')`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (chatId)`

---

### 3. ForwardModal - WebSocket –ø—Ä–æ–±–ª–µ–º—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** WebSocket –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
// –ó–∞–º–µ–Ω–µ–Ω WebSocket –Ω–∞ HTTP –∑–∞–ø—Ä–æ—Å
const response = await fetch('http://localhost:3001/api/forward', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    Authorization: `Bearer ${token}`
  },
  body: JSON.stringify({ messageId, targetChatIds: selected })
});
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (!messageId) return null`
- –û–±–Ω–æ–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `messageId: string | null`

---

### 4. ChatSettings - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –∏–º–ø–æ—Ä—Ç –≤–º–µ—Å—Ç–æ default

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
// –ë—ã–ª–æ:
import { ChatSettings } from '../components/ChatSettings';

// –°—Ç–∞–ª–æ:
import ChatSettings from '../components/ChatSettings';
```

---

## üîç –ê–Ω–∞–ª–∏–∑ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º:

### WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** `WebSocket connection failed`

**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ WebSocket –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `cd server && npm run dev`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 3001 —Å–≤–æ–±–æ–¥–µ–Ω
3. WebSocket –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ HTTP API, WebSocket –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω

---

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
cd client
npm run dev
```

### 2. –û–±–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
```
–ù–∞–∂–º–∏—Ç–µ F5 –∏–ª–∏ Ctrl+R
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å:
- –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ `onForward is not defined`
- –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ `/api/api/`
- WebSocket –æ—à–∏–±–∫–∞ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫:

- [x] MessageActions –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- [x] PinnedMessages –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- [x] ForwardModal –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- [x] ChatSettings –∏–º–ø–æ—Ä—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç
- [ ] –û–±–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:
- ‚úÖ –†–µ–∞–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ)
- ‚úÖ –ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ì–æ–ª–æ—Å–æ–≤—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –£—á–∞—Å—Ç–Ω–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è
- ‚ö†Ô∏è WebSocket –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

### –ï—Å–ª–∏ WebSocket –≤–∞–∂–µ–Ω:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `server/index.js`:
```javascript
// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ Socket.io
const io = socketIO(server, {
  cors: {
    origin: "http://localhost:5173",
    methods: ["GET", "POST"]
  }
});
```

### –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –µ—Å—Ç—å –æ—à–∏–±–∫–∏:
1. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Del)
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `npm install`

---

## üìû –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 3001
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –Ω–∞ –ø–æ—Ä—Ç—É 5173

---

**–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã! üéâ**

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É.
