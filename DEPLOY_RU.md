# üöÄ –î–µ–ø–ª–æ–π –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Ö–æ—Å—Ç–∏–Ω–≥–∞—Ö

## üá∑üá∫ –õ—É—á—à–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è –†–§

### 1. **Timeweb Cloud** (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- ‚úÖ –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥
- ‚úÖ –û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π –†–§
- ‚úÖ PostgreSQL + Redis
- ‚úÖ WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- üí∞ –û—Ç 169‚ÇΩ/–º–µ—Å—è—Ü

### 2. **Selectel**
- ‚úÖ –û–±–ª–∞—á–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- ‚úÖ Kubernetes
- ‚úÖ –û–ø–ª–∞—Ç–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- üí∞ –û—Ç 200‚ÇΩ/–º–µ—Å—è—Ü

### 3. **Beget**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- ‚úÖ Node.js –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –†–æ—Å—Å–∏–π—Å–∫–∏–µ –∫–∞—Ä—Ç—ã
- üí∞ –û—Ç 150‚ÇΩ/–º–µ—Å—è—Ü

### 4. **REG.RU VPS**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–æ–º–µ–Ω–æ–≤
- ‚úÖ –û–ø–ª–∞—Ç–∞ –°–ë–ü/–∫–∞—Ä—Ç–∞–º–∏ –†–§
- üí∞ –û—Ç 299‚ÇΩ/–º–µ—Å—è—Ü

---

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Timeweb Cloud)

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [timeweb.cloud](https://timeweb.cloud)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ VK)
3. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å (–æ—Ç 500‚ÇΩ)

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

1. **–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** ‚Üí **–û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã** ‚Üí **–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä**
2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   - **–û–°**: Ubuntu 22.04
   - **–¢–∞—Ä–∏—Ñ**: –ë–∞–∑–æ–≤—ã–π (2 CPU, 2GB RAM) - 169‚ÇΩ/–º–µ—Å
   - **–†–µ–≥–∏–æ–Ω**: –ú–æ—Å–∫–≤–∞
3. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –∏ –∑–∞–ø–æ–º–Ω–∏—Ç–µ IP-–∞–¥—Ä–µ—Å

### –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –ø–æ SSH (–ø–∞—Ä–æ–ª—å –ø—Ä–∏–¥–µ—Ç –Ω–∞ email)
ssh root@–≤–∞—à-ip-–∞–¥—Ä–µ—Å
```

### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 18
curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
apt install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL
apt install -y postgresql postgresql-contrib

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis
apt install -y redis-server

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx
apt install -y nginx

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2 (–º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)
npm install -g pm2

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Git
apt install -y git
```

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL

```bash
# –í–æ–π–¥–∏—Ç–µ –≤ PostgreSQL
sudo -u postgres psql

# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE DATABASE messenger;
CREATE USER messenger_user WITH PASSWORD '–≤–∞—à_–ø–∞—Ä–æ–ª—å';
GRANT ALL PRIVILEGES ON DATABASE messenger TO messenger_user;
\q
```

### –®–∞–≥ 6: –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
mkdir -p /var/www/messenger
cd /var/www/messenger

# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç (–∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —á–µ—Ä–µ–∑ FTP)
git clone https://github.com/–≤–∞—à-username/messenger.git .

# –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —á–µ—Ä–µ–∑ SCP —Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:
# scp -r C:\Users\Miron\OneDrive\–†–∞–±–æ—á–∏–π\ —Å—Ç–æ–ª\–ø—Ä–æ–µ–∫—Ç root@–≤–∞—à-ip:/var/www/messenger
```

### –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—ç–∫–µ–Ω–¥–∞

```bash
cd /var/www/messenger/server

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
nano .env
```

–í—Å—Ç–∞–≤—å—Ç–µ:
```env
NODE_ENV=production
PORT=3001
DATABASE_URL="postgresql://messenger_user:–≤–∞—à_–ø–∞—Ä–æ–ª—å@localhost:5432/messenger"
REDIS_URL="redis://localhost:6379"
JWT_SECRET="–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–º–∏–Ω–∏–º—É–º-32-—Å–∏–º–≤–æ–ª–∞-123456789"
JWT_REFRESH_SECRET="–¥—Ä—É–≥–æ–π-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–º–∏–Ω–∏–º—É–º-32-—Å–∏–º–≤–æ–ª–∞-987654321"
CLIENT_URL="http://–≤–∞—à-ip-–∞–¥—Ä–µ—Å"
```

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ Prisma
npx prisma generate
npx prisma db push

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ PM2
pm2 start index.js --name messenger-server
pm2 save
pm2 startup
```

### –®–∞–≥ 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
cd /var/www/messenger/client

# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
nano .env
```

–í—Å—Ç–∞–≤—å—Ç–µ:
```env
VITE_API_URL=http://–≤–∞—à-ip-–∞–¥—Ä–µ—Å:3001
VITE_WS_URL=ws://–≤–∞—à-ip-–∞–¥—Ä–µ—Å:3001
```

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–æ–±–µ—Ä–∏—Ç–µ
npm install
npm run build
```

### –®–∞–≥ 9: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

```bash
nano /etc/nginx/sites-available/messenger
```

–í—Å—Ç–∞–≤—å—Ç–µ:
```nginx
server {
    listen 80;
    server_name –≤–∞—à-ip-–∞–¥—Ä–µ—Å;

    # –§—Ä–æ–Ω—Ç–µ–Ω–¥
    location / {
        root /var/www/messenger/client/dist;
        try_files $uri $uri/ /index.html;
    }

    # API
    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # WebSocket
    location /socket.io {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
    }
}
```

```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
ln -s /etc/nginx/sites-available/messenger /etc/nginx/sites-enabled/
nginx -t
systemctl restart nginx
```

### –®–∞–≥ 10: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞

```bash
ufw allow 22/tcp
ufw allow 80/tcp
ufw allow 443/tcp
ufw enable
```

---

## üåê –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞ .RU

### –í–∞—Ä–∏–∞–Ω—Ç 1: REG.RU

1. –ö—É–ø–∏—Ç–µ –¥–æ–º–µ–Ω –Ω–∞ [reg.ru](https://www.reg.ru) (~200-500‚ÇΩ/–≥–æ–¥)
2. –í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ DNS:
   ```
   A-–∑–∞–ø–∏—Å—å: @ ‚Üí –≤–∞—à-ip-–∞–¥—Ä–µ—Å
   A-–∑–∞–ø–∏—Å—å: www ‚Üí –≤–∞—à-ip-–∞–¥—Ä–µ—Å
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Timeweb

1. –ö—É–ø–∏—Ç–µ –¥–æ–º–µ–Ω –ø—Ä—è–º–æ –≤ Timeweb (~300‚ÇΩ/–≥–æ–¥)
2. DNS –Ω–∞—Å—Ç—Ä–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (HTTPS)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Certbot
apt install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
certbot --nginx -d –≤–∞—à-–¥–æ–º–µ–Ω.ru -d www.–≤–∞—à-–¥–æ–º–µ–Ω.ru

# –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
certbot renew --dry-run
```

–û–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª—ã:
```env
# server/.env
CLIENT_URL="https://–≤–∞—à-–¥–æ–º–µ–Ω.ru"

# client/.env
VITE_API_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.ru
VITE_WS_URL=wss://–≤–∞—à-–¥–æ–º–µ–Ω.ru
```

–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:
```bash
cd /var/www/messenger/client
npm run build
pm2 restart messenger-server
```

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **VPS Timeweb**: 169‚ÇΩ/–º–µ—Å—è—Ü
- **–î–æ–º–µ–Ω .RU**: 200‚ÇΩ/–≥–æ–¥
- **SSL**: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (Let's Encrypt)
- **–ò—Ç–æ–≥–æ**: ~190‚ÇΩ/–º–µ—Å—è—Ü

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **VPS (4GB RAM)**: 339‚ÇΩ/–º–µ—Å—è—Ü
- **–î–æ–º–µ–Ω**: 200‚ÇΩ/–≥–æ–¥
- **–ò—Ç–æ–≥–æ**: ~360‚ÇΩ/–º–µ—Å—è—Ü

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 logs messenger-server

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
pm2 restart messenger-server

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
cd /var/www/messenger
git pull
cd server && npm install
cd ../client && npm install && npm run build
pm2 restart messenger-server
```

---

## üì± –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ (–∫–æ–ª–ª–µ–¥–∂):

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤ –∫–æ–ª–ª–µ–¥–∂–µ
2. –£–∑–Ω–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π IP: `ipconfig` (Windows) –∏–ª–∏ `ip a` (Linux)
3. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ
4. –î–æ—Å—Ç—É–ø –ø–æ –∞–¥—Ä–µ—Å—É: `http://192.168.x.x:5173`

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**Timeweb**: support@timeweb.ru, –æ–Ω–ª–∞–π–Ω-—á–∞—Ç  
**Telegram**: @timeweb_support  
**–¢–µ–ª–µ—Ñ–æ–Ω**: 8 (800) 700-06-08 (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –ø–æ –†–§)

**–ì–æ—Ç–æ–≤–æ! –í–∞—à –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ! üéâ**
